{"version":3,"sources":["redux/actions/userActions.js","components/Header.js","components/Footer.js","components/Hero.js","components/CarouselSlick.js","components/Mainhome.js","pages/Home.js","redux/actions/citiesActions.js","components/CitiesInput.js","components/City.js","components/Maincities.js","pages/Cities.js","redux/actions/itinerariesActions.js","components/Comment.js","components/Itinerary.js","pages/Itineraries.js","pages/Error.js","components/Mainsignup.js","pages/Signup.js","components/Mainsignin.js","pages/Signin.js","pages/Favourites.js","App.js","redux/reducers/citiesReducer.js","redux/reducers/itinerariesReducer.js","redux/reducers/userReducer.js","redux/reducers/rootReducer.js","index.js"],"names":["userActions","registerUser","dataUser","dispatch","a","axios","post","res","data","success","type","payload","response","Error","error","message","loginUser","logOut","logInLS","savedUser","get","headers","Authorization","token","likeAnItinerary","idItinerary","put","populateItineraries","isValidOwner","mapDispatchToProps","connect","state","userPhoto","usersRed","photoURL","firstName","props","className","exact","to","style","backgroundImage","onClick","Footer","goToHeaven","window","scrollTo","top","left","behavior","href","target","rel","Hero","id","CarouselSlick","dots","infinite","slidesToShow","slidesToScroll","rows","slidesPerRow","autoplay","autoplaySpeed","pauseOnHover","responsive","breakpoint","settings","arrows","city","country","image","description","map","Component","Mainhome","Home","useEffect","document","title","citiesActions","getAllCities","length","filterCities","inputValue","getACity","resetCity","resetFilter","myFunction","placeholder","onChange","e","value","City","cityName","useState","render","setRender","handleHover","onMouseEnter","onMouseLeave","display","filteredCities","citiesRed","fetching","allCities","dataToShow","_id","getCities","cities","then","console","history","push","itinerariesActions","getAllItinerariesFromCity","resetItineraries","sendComment","newComment","oldComment","action","authorization","sentTheComment","getActivities","Comment","setnewComment","didEdit","setdidEdit","status","what","guessing","setGuessing","comment","ownerCondition","author","idUser","whatToDo","didGuess","editComment","removeComment","name","lastName","disabled","likedItineraries","itineraryComment","itinerariesRed","itinerary","hashtags","price","duration","likes","comments","blankComment","setblankComment","setDisabled","logged","setLogged","setidUser","activities","setActivities","commentsEndRef","useRef","scrollToBottom","current","scrollHeight","loggedComment","setloggedComment","commentSendHandler","handleResponse","commentEditHandler","editedComment","commentId","commentRemoveHandler","find","element","indexOf","arrayPrice","i","dollar","index","priceHandler","hashtag","innerText","activity","photo","ref","onKeyDown","key","onFocus","getAllItineraries","itineraries","fetchingItineraries","fetchingCity","match","params","errorHandler","fetchAgain","dataHandler","string","timeLeft","setTimeout","renderError","setRenderError","countries","loading","setLoading","eMail","password","google","newUser","setNewUser","includes","inputHandler","myErrors","myErrorsKeys","Object","keys","filter","handleError","htmlFor","required","preventDefault","badFields","namesOfFields","bodyFields","values","field","join","missingFields","clientId","renderProps","onSuccess","googleUser","profileObj","givenName","familyName","email","googleId","imageUrl","cookiePolicy","errorKey","Signup","errorEffect","setDataUser","Signin","logLs","localStorage","getItem","JSON","parse","path","component","Cities","Itineraries","Favourites","initState","citiesReducer","object","toLowerCase","startsWith","trim","itinerariesReducer","itinerariesArePopulated","userReducer","setItem","stringify","clear","rootReducer","combineReducers","myStore","createStore","applyMiddleware","thunk","ReactDOM","store","getElementById"],"mappings":"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","file":"static/js/main.b8d42aeb.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst userActions = {\r\n    registerUser: (dataUser) =>{\r\n        return async (dispatch) =>{\r\n            try{\r\n                let res = await axios.post(`https://mytinerary-budtke.herokuapp.com/api/user/register`, dataUser)\r\n                if (res.data.success){\r\n                    dispatch({type:'USER_LOGGED', payload: res.data.response})\r\n                    return {success:true, response:res.data.response}\r\n                }else{\r\n                    throw new Error(res.data.response)\r\n                }\r\n            }catch(err){\r\n                return {success:false, error: err.message}\r\n            }\r\n        }\r\n    },\r\n    loginUser: (dataUser)=>{\r\n        return async (dispatch) =>{\r\n            try{\r\n                let res = await axios.post(`https://mytinerary-budtke.herokuapp.com/api/user/login`, dataUser)\r\n                if (res.data.success){\r\n                    dispatch({type:'USER_LOGGED', payload: res.data.response})\r\n                    return {success:true , response:res.data.response}\r\n                }else{\r\n                    // console.log(res.data.response)\r\n                    throw new Error(res.data.response)\r\n                }\r\n            }catch(err){\r\n                // console.log(err)\r\n                return {success:false, error: err.message}\r\n            }\r\n        }\r\n    },\r\n    logOut: () =>{\r\n        return (dispatch)=>{\r\n            dispatch({type: 'LOGOUT'})\r\n        }\r\n    },\r\n    logInLS: (savedUser) =>{\r\n        return async (dispatch) => {\r\n            try{\r\n                let res = await axios.get('https://mytinerary-budtke.herokuapp.com/api/user/valid',{\r\n                    headers:{\r\n                        Authorization: 'Bearer ' + savedUser.token\r\n                    }\r\n                })\r\n                if(res.data.success){\r\n                    dispatch({type: 'USER_LOGGED', payload: savedUser})\r\n                    return {success:true}\r\n                }else{\r\n                    throw new Error('Invalid user')\r\n                }\r\n            }catch(err){\r\n                dispatch({type: 'LOGOUT'})\r\n                return {success: false, error: err.message}\r\n            }\r\n        }\r\n    },\r\n    likeAnItinerary: (idItinerary, token) =>{\r\n        // console.log(token)\r\n        return async (dispatch) =>{\r\n            try{\r\n                let res = await axios.put(`https://mytinerary-budtke.herokuapp.com/api/user/like/${idItinerary}`,{},{\r\n                    headers:{\r\n                        Authorization: 'Bearer ' + token\r\n                    }\r\n                })\r\n                if (res.data.success){\r\n                    dispatch({type:'LIKED_ITINERARY', payload: res.data.response})\r\n                    // console.log(res.data.response)\r\n                    return {success:true}\r\n                }else{\r\n                    throw new Error(res.data.response)\r\n                }\r\n            }catch(err){\r\n                return {success: false, response: err}\r\n            }\r\n        }\r\n    },\r\n    populateItineraries: (token) =>{\r\n        return async (dispatch)=>{\r\n            try{\r\n                let res = await axios.get('https://mytinerary-budtke.herokuapp.com/api/user/favourites',{\r\n                    headers:{\r\n                        Authorization: 'Bearer ' + token\r\n                    }\r\n                })\r\n                if(res.data.success){\r\n                    dispatch({type:'FAVOURITE_ITINERARIES', payload: res.data.response})\r\n                    return {success: true, response: res.data.response}\r\n                }else{\r\n                    throw new Error(res.data.response)\r\n                }\r\n            }catch(err){\r\n                return {success: false, response: err}\r\n            }\r\n        }\r\n    },\r\n    isValidOwner: (token) =>{\r\n        return async dispatch =>{\r\n            try{\r\n                let res = await axios.get('https://mytinerary-budtke.herokuapp.com/api/user/validowner',{\r\n                    headers:{\r\n                        Authorization: 'Bearer ' + token\r\n                    }\r\n                })\r\n                if(res.data.success){\r\n                    return {success: true, response: res.data.response}\r\n                }else{\r\n                    throw new Error('not a valid owner')\r\n                }\r\n            }catch(err){\r\n                return {success: false, response: err}\r\n            }\r\n        }\r\n    }\r\n    // colocarle return al axios.get, si luego lo voy a usar con then y catch. que tengan return dentro\r\n}\r\nexport default userActions","import {NavLink, Link} from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport userActions from '../redux/actions/userActions'\r\nconst Header = (props) => {\r\n    const {token} = props\r\n    const logOut = ()=>{\r\n        props.logOut()\r\n    }\r\n    return(\r\n        <header>\r\n            <div className=\"titleNavBar\">\r\n                <NavLink exact to=\"/\"><div className=\"photo logo\" style={{backgroundImage: \"url('/assets/fotologo.png')\"}}></div></NavLink>\r\n                <NavLink exact to=\"/\"><h1>myTinerary</h1></NavLink>\r\n            </div>\r\n            {token && <p className=\"personalWelcome\">Welcome {`${props.firstName}`}!</p>}\r\n            <nav>\r\n                <NavLink exact to=\"/\">\r\n                    <p>Home</p>\r\n                </NavLink>\r\n                <NavLink to=\"/cities\">\r\n                    <p>Cities</p>\r\n                </NavLink>\r\n                {!token && <NavLink to=\"/signin\"><p>Sign In</p></NavLink>}\r\n                {!token && <NavLink to=\"/signup\"><p>Sign Up</p></NavLink>}\r\n                {token && <p className=\"linkBehave\" onClick={logOut}>Sign Out</p>}\r\n                <Link to=\"/favourites\"><div className=\"photo user\" style={{backgroundImage: `url(${props.userPhoto !== \"\" ? props.userPhoto : '/assets/fotologoff.png'})`}}></div></Link>\r\n            </nav>\r\n        </header>\r\n    )\r\n}\r\nconst mapStateToProps = (state)=>{\r\n    return {\r\n        userPhoto: state.usersRed.photoURL,\r\n        token: state.usersRed.token,\r\n        firstName: state.usersRed.firstName\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    logOut: userActions.logOut\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Header)","import { NavLink } from \"react-router-dom\"\r\nconst Footer = () => {\r\n    const goToHeaven = () =>{\r\n        window.scrollTo({\r\n            top: 0,\r\n            left: 0,\r\n            behavior: 'smooth'\r\n        })\r\n    }\r\n    return(\r\n        <footer>\r\n            <h4>FWB - 2021</h4>\r\n            <div className=\"socialMedia\">\r\n                <p>Social media:</p>\r\n                <a href=\"https://facebook.com/\" target=\"_blank\" rel=\"noreferrer\">\r\n                    <div style={{backgroundImage: \"url('/assets/logoface.png')\"}}></div>\r\n                </a>\r\n                <a href=\"https://instagram.com/\" target=\"_blank\" rel=\"noreferrer\">\r\n                    <div style={{backgroundImage: \"url('/assets/logoinsta.png')\"}}></div>\r\n                </a>\r\n                <a href=\"https://twitter.com/\" target=\"_blank\" rel=\"noreferrer\">\r\n                    <div style={{backgroundImage: \"url('/assets/logotwitter.png')\"}}></div>\r\n                </a>\r\n            </div>\r\n            <div className=\"contactInfo\">\r\n                <p>Address: <a href=\"https://www.google.com/maps/place/Sta+Fe+4333,+S2002KVG+Rosario,+Santa+Fe/@-32.9372963,-60.6830364,18z/data=!4m5!3m4!1s0x95b7acac682a3773:0x43efc8dd15945813!8m2!3d-32.9373436!4d-60.6819635\" target=\"_blank\" rel=\"noreferrer\">Santa Fe 4333, Rosario</a></p>\r\n                <p>Telephone: +543412222222</p>\r\n            </div>\r\n            <nav>\r\n                <NavLink exact to=\"/\">\r\n                    <p onClick={goToHeaven}>Home</p>\r\n                </NavLink>\r\n                <NavLink to=\"/cities\">\r\n                    <p onClick={goToHeaven}>Cities</p>\r\n                </NavLink>\r\n            </nav>\r\n        </footer>\r\n    )\r\n}\r\nexport default Footer","import { Link } from \"react-router-dom\"\r\nconst Hero = () =>{\r\n    return(\r\n        <div className=\"hero\" style={{backgroundImage: \"url('./assets/fotohero.jpg')\"}}>\r\n            <h2>Find your perfect trip, designed by insiders who know and love their cities!</h2>\r\n            <Link to=\"/cities\"><button id=\"callToActionHero\">CLICK HERE</button></Link>\r\n        </div>\r\n    )\r\n}\r\nexport default Hero","import React, { Component } from \"react\";\r\nimport Slider from \"react-slick\";\r\n\r\nexport default class CarouselSlick extends Component {\r\n    render() {\r\n        var settings = {\r\n            dots: true,\r\n            infinite: true,\r\n            slidesToShow: 1,\r\n            slidesToScroll: 1,\r\n            rows: 2,\r\n            slidesPerRow: 2,\r\n            autoplay: true,\r\n            autoplaySpeed: 2000,\r\n            pauseOnHover: true,\r\n            responsive: [\r\n                {\r\n                    breakpoint: 600,\r\n                    settings: {\r\n                        rows: 1,\r\n                        slidesPerRow: 1,\r\n                        dots: false,\r\n                        arrows: false\r\n                    }\r\n                },\r\n                {\r\n                    breakpoint: 480,\r\n                    settings: {\r\n                        rows: 1,\r\n                        slidesPerRow: 1,\r\n                        dots: false,\r\n                        arrows:false\r\n                    }\r\n                }     \r\n            ] \r\n        }\r\n        const carouselContent = [\r\n            {id: 0, city: \"Granadero Baigorria\", country:\"Argentina\", image: \"baigorria.jpg\", description:\"Al norte de Rosario, donde viven los viejos\"},\r\n            {id: 1, city: \"Rosario\", country:\"Argentina\", image: \"rosario.jpg\", description:\"La capital no oficial de Argentina, ciudad Juarez Argentina\"},\r\n            {id: 2, city: \"Buenos Aires\", country:\"Argentina\", image: \"bsas.jpg\", description:\"La capital de Argentina, donde Larreta pone y saca pisos\"},\r\n            {id: 3, city: \"Ushuaia\", country:\"Argentina\", image: \"ushuaia.jpg\", description:\"El pais de las maravillas naturales y electrodomesticos\"},\r\n            {id: 4, city: \"Calafate\", country:\"Argentina\", image: \"calafate.jpg\", description:\"Donde vive la Presidente de la Nación\"},\r\n            {id: 5, city: \"Bariloche\", country:\"Argentina\", image: \"bariloche.jpg\", description:\"Donde los pibes se van de joda, igual lindo paisaje\"},\r\n            {id: 6, city: \"Pergamino\", country:\"Argentina\", image: \"pergamino.jpg\", description:\"Entre Rosario y Buenos Aires\"},\r\n            {id: 7, city: \"Mar del Plata\", country:\"Argentina\", image: \"mardelplata.jpg\", description:\"Donde vas a tomar sol\"},\r\n            {id: 8, city: \"Mar de Ajó\", country:\"Argentina\", image: \"mardeajo.jpg\", description:\"El mar huele bastante bien, pese a su nombre\"},\r\n            {id: 9, city: \"Puerto Madryn\", country:\"Argentina\", image: \"madryn.jpg\", description:\"Donde se puede avistar ballenas\"},\r\n            {id: 10, city: \"Villa Gesell\", country:\"Argentina\", image: \"gesell.jpg\", description:\"Donde van los pibes en verano\"},\r\n            {id: 11, city: \"Santa Fe\", country:\"Argentina\", image: \"santafe.jpg\", description:\"La capital oficial de la provincia de Santa Fe\"}\r\n        ]\r\n        return (\r\n            <div className=\"carouselSlickContainer\">\r\n                <h2>Popular myTineraries</h2>\r\n                <Slider {...settings}>\r\n                        {carouselContent.map(city => {\r\n                            return(\r\n                            <div key={city.id}>\r\n                                <div className=\"carouselSlideInfo\" style={{backgroundImage:`url('assets/${city.image}')`}}>\r\n                                    <p>{city.city}</p>\r\n                                    <p>{city.country}</p>\r\n                                </div>\r\n                            </div>)\r\n                        })}\r\n                </Slider>\r\n            </div>\r\n        )\r\n    }\r\n}","import Hero from './Hero'\r\nimport CarouselSlick from './CarouselSlick'\r\nconst Mainhome = () =>{\r\n    return(\r\n        <main>\r\n            <Hero/>\r\n            <CarouselSlick/>\r\n        </main>\r\n    )\r\n}\r\nexport default Mainhome","import Header from '../components/Header'\r\nimport Footer from '../components/Footer'\r\nimport Mainhome from '../components/Mainhome'\r\nimport { useEffect } from 'react'\r\nconst Home = () =>{\r\n    useEffect(() =>{\r\n        window.scrollTo(0,0)\r\n        document.title = \"myTinerary - Home\"\r\n        return () => document.title = \"myTinerary\"\r\n    },[])\r\n    return (\r\n        <>\r\n            <Header/>\r\n            <Mainhome/>\r\n            <Footer/>\r\n        </>\r\n    )\r\n}\r\nexport default Home","import axios from 'axios'\r\nconst citiesActions = {\r\n    getAllCities: () =>{\r\n        return async (dispatch) =>{ // se puede utilizar param getState para traerme el store actual.\r\n            try{\r\n                let res = await axios.get('https://mytinerary-budtke.herokuapp.com/api/cities')\r\n                if(res.data.success){\r\n                    if(res.data.response.length > 0){\r\n                        dispatch({type:\"GET_ALL_CITIES\", payload:res.data.response})\r\n                        return {success:true}\r\n                    }else{\r\n                        throw new Error(\"No cities found in db\")\r\n                    }\r\n                }else{\r\n                    throw new Error(res.data.response)\r\n                } \r\n            }catch (err){\r\n                return {success:false, error: err}\r\n            }\r\n        }\r\n    },\r\n    filterCities: (inputValue) =>{\r\n        return (dispatch) =>{\r\n            dispatch({type: 'GET_FILTERED_CITIES', payload:inputValue})\r\n        }\r\n    },\r\n    getACity: (id) =>{\r\n        return async (dispatch)=>{        \r\n            try{\r\n                let res = await axios.get(`https://mytinerary-budtke.herokuapp.com/api/city/${id}`)\r\n                    if(res.data.success){\r\n                        if(res.data.response){\r\n                            dispatch({type:\"GET_A_CITY\", payload: res.data.response})\r\n                            return {success:true}\r\n                        }else{\r\n                            throw new Error('City not found')\r\n                        }\r\n                    }\r\n                    else{\r\n                        throw new Error(res.data.response)\r\n                    }\r\n            }catch(err){\r\n                return {success:false, error:err}\r\n            }\r\n        }\r\n    },\r\n    resetCity: () =>{\r\n        return(dispatch)=>{\r\n            dispatch({type: 'RESET'})\r\n        }\r\n    },\r\n    resetFilter: () =>{\r\n        return dispatch =>{\r\n            dispatch({type: 'RESET_FILTER'})\r\n        }\r\n    }\r\n}\r\nexport default citiesActions","import { connect } from \"react-redux\"\r\nimport citiesActions from \"../redux/actions/citiesActions\"\r\n\r\nconst CitiesInput = ({myFunction}) =>{\r\n    return(\r\n        <div className=\"filterCitiesImage\" style={{backgroundImage:`url('/assets/fotohero.jpg')`}}>\r\n            <div className=\"filterCitiesContainer\">\r\n                <h2>Find the perfect travel destination for your trip</h2>\r\n                <p>Are you looking for romantic beaches in Santa Fe? The perfect vacation with your children in Baigorria?</p>\r\n                <p>Or do you prefer sightseeing in Capitán Bermúdez? Explore our cities <span className=\"specialText\">NOW!</span></p>\r\n                <input type=\"search\" id=\"search-cities\" placeholder=\"Search by city\" onChange={(e) => myFunction(e.target.value)}></input>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nconst mapDispatchToProps = {\r\n    myFunction: citiesActions.filterCities\r\n}\r\nexport default connect(null, mapDispatchToProps)(CitiesInput)","import { useState } from \"react\"\r\n\r\nconst City = ({cityName, country, image, description}) =>{\r\n    const [render, setRender] = useState(false)\r\n    const handleHover = () =>{\r\n        setRender(!render)\r\n    }\r\n    return(\r\n        <div className=\"cardCity\" style={{backgroundImage:`url('assets/${image}')`}} onMouseEnter={handleHover} onMouseLeave={handleHover}>\r\n            <div>   \r\n                <p className=\"title\">{cityName}</p>\r\n                {/* <p>{country}</p> */}\r\n            </div> \r\n            <div className=\"cityDescription\" style={render ? {display: \"block\"} : {display:\"none\"}}>\r\n                <p>{description}</p>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default City","import { Link } from \"react-router-dom\"\r\nimport CitiesInput from \"./CitiesInput\"\r\nimport City from \"./City\"\r\nimport {connect} from 'react-redux'\r\nconst Maincities = (props) => {\r\n    const {allCities, filteredCities, fetching} = props\r\n    if(fetching){\r\n        return <main className=\"mainCities\"><div className=\"noCitiesContainer\"><p>Loading...</p></div></main>\r\n    }\r\n    let dataToShow = []\r\n    dataToShow = filteredCities.length > 0 ? filteredCities : allCities\r\n    return (\r\n        <main className=\"mainCities\" >\r\n            <CitiesInput/>\r\n            <div className=\"cardCitiesContainer\" style={filteredCities.length > 0 ? {display:\"flex\"} : {display:\"none\"}}>\r\n                {dataToShow.map(city => <Link key={city._id} to={`/itineraries/${city._id}`}><City key={city._id} cityName={city.city} country={city.country} image={city.image} description={city.description}/></Link>)}\r\n            </div>\r\n            <div className=\"noCitiesContainer\" style={filteredCities.length === 0 ? {display:\"block\"} : {display:\"none\"}}>\r\n                <p>UNABLE TO FIND THAT ONE, TRY AGAIN!</p>\r\n            </div>\r\n        </main>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) =>{\r\n    return {\r\n        filteredCities : state.citiesRed.filteredCities,\r\n        fetching: state.citiesRed.fetching,\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Maincities)\r\n// componente de orden superior, funcion recibe param otra func.","import Header from \"../components/Header\"\r\nimport Footer from \"../components/Footer\"\r\nimport Maincities from \"../components/Maincities\"\r\nimport { useEffect } from \"react\"\r\nimport {connect} from 'react-redux'\r\nimport citiesActions from \"../redux/actions/citiesActions\"\r\nconst Cities = (props) =>{\r\n    const {allCities} = props\r\n    useEffect(() => {\r\n        if(allCities.length === 0){\r\n            props.getCities().then(res => {\r\n                if(!res.success){\r\n                    console.error(res.error)\r\n                    props.history.push('/error')\r\n                }\r\n            })\r\n        }\r\n        window.scrollTo(0, 0)\r\n        document.title = \"myTinerary - Cities\"\r\n        return () => {\r\n            document.title = \"myTinerary\"\r\n            props.resetFilter()\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    },[])\r\n    return(\r\n        <>\r\n            <Header/>\r\n            <Maincities {...props}/>\r\n            <Footer/>\r\n        </>\r\n    )\r\n}\r\nconst mapStateToProps = (state) =>{\r\n    return{\r\n        allCities : state.citiesRed.cities\r\n    } \r\n}\r\nconst mapDispatchToProps = {\r\n    // propiedadProps : queFuncionMeTrae\r\n    getCities:citiesActions.getAllCities,\r\n    resetFilter:citiesActions.resetFilter\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(Cities)\r\n\r\n","import axios from 'axios'\r\nconst itinerariesActions = {\r\n    getAllItinerariesFromCity: (id) =>{\r\n        return async (dispatch) =>{\r\n            try{\r\n                let res = await axios.get(`https://mytinerary-budtke.herokuapp.com/api/itinerary/${id}`)\r\n                dispatch({type: 'GET_AN_ITINERARY', payload: res.data.response})\r\n                return {success:true}\r\n            }catch(err){\r\n                return {success:false, error: err}\r\n            }\r\n        }\r\n    },\r\n    resetItineraries: () =>{\r\n        return(dispatch)=>{\r\n            dispatch({type: 'RESET'})\r\n        }\r\n    },\r\n    sendComment: (newComment, oldComment, token, id, action) =>{\r\n        return async ()=>{\r\n            let data = {\r\n                newComment: newComment,\r\n                oldComment: oldComment,\r\n                id: id,\r\n                action: action\r\n            }\r\n            try{\r\n                let res = await axios.put(`https://mytinerary-budtke.herokuapp.com/api/itinerary/comments`,data,{\r\n                    headers:{\r\n                        authorization: 'Bearer ' + token\r\n                    }\r\n                })\r\n                if(res.data.success){\r\n                    return {success: true}\r\n                }else{\r\n                    throw new Error('comm problem with db')\r\n                }\r\n            }catch(err){\r\n                return {success: false, response: err}\r\n            }\r\n        }\r\n    },\r\n    sentTheComment: () =>{\r\n        return dispatch =>{\r\n            dispatch({type:\"SENT_COMMENT\"})\r\n        }\r\n    },\r\n    getActivities: (id) =>{\r\n        return async () => {\r\n            try{\r\n                let res = await axios.get(`https://mytinerary-budtke.herokuapp.com/api/activity/${id}`)\r\n                if(res.data.success){\r\n                    return {success: true, response: res.data.response}\r\n                }else{\r\n                    throw new Error('comm problem with db')\r\n                }\r\n            }catch(err){\r\n                return {success: false, response: err}\r\n            }\r\n        }\r\n    }\r\n}\r\nexport default itinerariesActions","import {useState} from 'react'\r\nconst Comment = (props) =>{\r\n    const [newComment, setnewComment] = useState('')\r\n    const [didEdit, setdidEdit] = useState(false)\r\n    const [guessing, setGuessing] = useState({\r\n        status: false,\r\n        what: ''\r\n    })\r\n    const {comment} = props\r\n    // console.log(comment)\r\n    // console.log(props.idUser)\r\n    let ownerCondition = comment.author._id === props.idUser\r\n    // let oldComment = comment.comment\r\n    const inputHandler = (e) =>{\r\n        setnewComment(e.target.value)\r\n        setdidEdit(true)\r\n    }\r\n    const whatToDo = (e)=>{\r\n        setGuessing({\r\n            status: !guessing.status,\r\n            what: e.target.id\r\n        })\r\n    }\r\n    const didGuess = (e)=>{\r\n        let option = e.target.id\r\n        if (option === 'positive'){\r\n            guessing.what === 'edit' ? props.editComment((newComment === '' ? comment.comment : newComment), comment._id) : props.removeComment(comment._id)\r\n        }\r\n        setGuessing(false)\r\n    }\r\n    // CORREGIR EL EDITAR\r\n    // console.log(oldComment)\r\n    // console.log(newComment)\r\n    if(!comment.author){\r\n        return <p>placeholder</p>\r\n    }\r\n    return(\r\n        <div className=\"commentContainer\" key={comment._id} id={comment._id}>\r\n            <div className=\"photoUserComment\" style={{backgroundImage: `url(${comment.author.photoURL})`}}></div>\r\n            <p className=\"firstName\">{comment.author.name.firstName}</p>\r\n            <p>{comment.author.name.lastName}:</p>\r\n            <div className=\"userComment\">\r\n                <input type=\"text\" className={ownerCondition ? 'commentOwner' : ''} disabled={!ownerCondition} value={didEdit ? newComment : comment.comment} onChange={inputHandler}></input>\r\n                <p className=\"buttonComment\" style={ownerCondition ? {display: \"block\"} : {display: \"none\"}} id=\"edit\" onClick={whatToDo}>✒️</p>\r\n                <p className=\"buttonComment\" style={ownerCondition ? {display: \"block\"} : {display: \"none\"}} id=\"remove\" onClick={whatToDo}>🗑️</p>\r\n                <p className=\"buttonComment\" style={guessing.status ? {display: \"block\"} : {display: \"none\"}} id=\"positive\" onClick={didGuess}>✔️</p>\r\n                <p className=\"buttonComment\" style={guessing.status ? {display: \"block\"} : {display: \"none\"}} id=\"negative\" onClick={didGuess}>❌</p>            \r\n            </div>\r\n        </div> \r\n    )\r\n}\r\nexport default Comment","import { useState, useEffect, useRef } from \"react\"\r\nimport { connect } from \"react-redux\"\r\nimport userActions from \"../redux/actions/userActions\"\r\nimport itinerariesActions from \"../redux/actions/itinerariesActions\"\r\nimport { Link } from \"react-router-dom\"\r\nimport Comment from \"./Comment\"\r\nconst Itinerary = (props) =>{\r\n    // console.log(props.itinerary)\r\n    const {author, description, hashtags, price, duration, likes, title, _id, comments} = props.itinerary\r\n    // console.log(_id)\r\n    const [render, setRender] = useState(false)\r\n    const [blankComment, setblankComment] = useState(false)\r\n    const [disabled, setDisabled] = useState(false)\r\n    const [logged, setLogged] = useState(false)\r\n    const [idUser, setidUser] = useState('')\r\n    const [activities, setActivities] = useState([])\r\n    useEffect(()=>{ \r\n        if(!props.token){\r\n            setidUser('')\r\n            return\r\n        }\r\n        props.isValidOwner(props.token)\r\n        .then(res => res.success && setidUser(res.response))\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    },[props.token])\r\n    const commentsEndRef = useRef(null)\r\n    const scrollToBottom = () => {\r\n        commentsEndRef.current.scrollTo({  \r\n            top: commentsEndRef.current.scrollHeight,\r\n            behavior: 'smooth' \r\n        })\r\n    }\r\n    useEffect(() =>{\r\n        scrollToBottom()\r\n    },[render, props.itineraryComment])\r\n    const [loggedComment, setloggedComment] = useState(false)\r\n    const clickHandler = (e) =>{\r\n        e.target.innerText = e.target.innerText === \"View more\" ? 'View less' : 'View more'\r\n        !activities.length && props.getActivities(_id)\r\n        .then(res => {\r\n            res.success && setActivities(res.response)\r\n            \r\n        })\r\n        setRender(!render)\r\n        scrollToBottom()\r\n    }\r\n    const priceHandler = ()=>{\r\n        let arrayPrice = []\r\n        for(let i = 0; i < price; i++){\r\n            arrayPrice.push('💵')\r\n        }\r\n        return arrayPrice.map((dollar, index) => <p key={index}>{dollar}</p>)\r\n    }\r\n    const heartHandler = (e) =>{\r\n        if(disabled){\r\n            return\r\n        }\r\n        if(!props.token){ // comunicar que debe estar logueado\r\n            setLogged(true)\r\n            return\r\n        }\r\n        setDisabled(true) // desabilito el input handler\r\n        setLogged(false)\r\n        props.likeAnItinerary(_id, props.token)\r\n        .then((res) => {\r\n            if(res.success){\r\n                setDisabled(false) // habilito el input handler de nuevo\r\n                props.myFunction() // mando a fetchear los itinerarios\r\n            }else{\r\n                console.error(res.response)\r\n            }\r\n        })\r\n    }\r\n    const [newComment, setnewComment] = useState(\"\")\r\n    const commentInputHandler = (e) =>{\r\n        setnewComment(e.target.value)\r\n    }\r\n    const commentSendHandler = () =>{\r\n        if(!props.token){\r\n            setloggedComment(true)\r\n            return\r\n        }\r\n        if(newComment === ''){\r\n            setblankComment(true)\r\n            return\r\n        }\r\n        props.sendComment(newComment, null, props.token, _id, \"post\").then(res => {\r\n            if(res.success){\r\n                props.myFunction(\"post\")\r\n                setnewComment('')\r\n                setblankComment(false)\r\n            }else{\r\n                console.error('was not able to send comment')\r\n                props.history.push('/error')\r\n            }\r\n        })\r\n    }\r\n    const focusInput = () =>{\r\n        !props.token && setloggedComment(true)\r\n    }\r\n    const keySubmit = (e)=>{\r\n        // console.log(e.key)\r\n        e.key === 'Enter' && commentSendHandler()\r\n    }\r\n    const handleResponse = (res) =>{\r\n        if(res.success){\r\n            props.myFunction()\r\n        }else{\r\n            console.error('was not able to edit comment')\r\n            props.history.push('/error')\r\n        }\r\n    }\r\n    const commentEditHandler = (editedComment, commentId) =>{\r\n        if(!props.token){\r\n            return\r\n        }\r\n        props.sendComment(editedComment, commentId, props.token, _id, \"update\").then(res => handleResponse(res))\r\n    }\r\n    const commentRemoveHandler = (commentId) =>{\r\n        if(!props.token){\r\n            return\r\n        }\r\n        props.sendComment(\"\", commentId, props.token, _id, \"delete\")\r\n        .then(res => handleResponse(res))\r\n    }\r\n    return(\r\n        <div className=\"itineraryCard\">\r\n            <div className=\"itineraryVisibleInfo\">\r\n                <div className=\"itineraryHeader\">\r\n                    <div className=\"itineraryAuthorContainer\">\r\n                        <div className=\"itineraryAuthorPhoto\" style={{backgroundImage:`url('/assets/${author.image}')`}}></div>\r\n                        <p>Author: {author.name}</p>\r\n                    </div>\r\n                    <h2>{title}</h2>\r\n                    <p className=\"likesHeader\">Likes: <span onClick={heartHandler} className=\"heartEmoji\">{props.likedItineraries.find(element => element._id === _id) ? '❤️' : props.likedItineraries.indexOf(_id) !== -1 ? '❤️' : '🤍'}</span>{likes}</p>\r\n                </div>\r\n                <div className=\"needToBeLogged\" style={logged ? {display: \"block\"} : {display: \"none\"}}>\r\n                    <Link to=\"/signin\"><p>You must log in to like an itinerary! Click here</p></Link>\r\n                </div>\r\n                <div className=\"itineraryDescriptionContainer\">\r\n                    <h4>{description}</h4>\r\n                </div>\r\n                <div className=\"itineraryMainInfo\">\r\n                    <div className=\"itineraryPriceDurationContainer\">\r\n                        <div className=\"itineraryPrice\">\r\n                            <p>Price:</p>{priceHandler()}\r\n                        </div>\r\n                        <p>Duration: {duration} {duration > 1 ? 'hrs' : 'hr'}🕒</p>\r\n                    </div>\r\n                    <div className=\"hashtagsContainer\">\r\n                        {hashtags.map((hashtag, index) => <a key={index} target=\"_blank\" rel=\"noreferrer\" href={`https://twitter.com/hashtag/${hashtag}`}><p>#{hashtag}</p></a>)}\r\n                    </div>\r\n                </div>\r\n                <button onClick={clickHandler}>View more</button>\r\n            </div>\r\n            <div className=\"itineraryActivitiesContainer\" style={render ? {display:\"block\"} : {display:\"none\"}}>\r\n                <h2>Activities</h2>\r\n                <div className=\"activitiesContainer\">\r\n                    {activities.length > 0 \r\n                    ? \r\n                    activities.map((activity, index) => {\r\n                        return(\r\n                            <div style={{backgroundImage: `url(${activity.photo})`}} key={index}>\r\n                                <p>{activity.title}</p>\r\n                            </div>\r\n                        )\r\n                    })\r\n                    :<p>No activities yet!</p>\r\n                    }\r\n                </div>\r\n                <h2>Comments</h2>\r\n                <div className=\"commentsContainer\">\r\n                    <div className=\"commentsScroll\" ref={commentsEndRef}>\r\n                        {comments.length > 0 \r\n                        ?\r\n                        comments.map((comment, index) => <Comment key={index} idUser={idUser} removeComment={commentRemoveHandler} editComment={commentEditHandler} comment={comment}/>)\r\n                        :\r\n                        <p>No comments yet! be the first</p>\r\n                        }\r\n                        {/* <div ref={commentsEndRef}></div> */}\r\n                    </div>\r\n                    <div className=\"sendContainer\">\r\n                        <p>Send a new message:</p>\r\n                        <input type=\"text\" onChange={commentInputHandler} value={newComment} onKeyDown={keySubmit} onFocus={focusInput}></input>\r\n                        <p className=\"buttonComment\" onClick={commentSendHandler}>{'>'}</p>\r\n                    </div>\r\n                    <div className=\"needToBeLogged\" style={loggedComment || blankComment ? {display: \"block\"} : {display: \"none\"}}>\r\n                        <Link to=\"/signin\" style={loggedComment ? {display: \"block\"} : {display: \"none\"}}><p>You must log in to post a comment! Click here</p></Link> \r\n                        <p style={blankComment ? {display: \"block\"} : {display: \"none\"}}>Please write something</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nconst mapStateToProps = (state) =>{\r\n    return{\r\n        token: state.usersRed.token,\r\n        likedItineraries: state.usersRed.likedItineraries,\r\n        itineraryComment: state.itinerariesRed.itineraryComment\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    likeAnItinerary : userActions.likeAnItinerary,\r\n    sendComment : itinerariesActions.sendComment,\r\n    isValidOwner : userActions.isValidOwner,\r\n    getActivities : itinerariesActions.getActivities\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Itinerary)","import { useEffect } from \"react\"\r\nimport { Link } from \"react-router-dom\"\r\nimport Header from \"../components/Header\"\r\nimport Footer from \"../components/Footer\"\r\nimport Itinerary from \"../components/Itinerary\"\r\nimport { connect } from \"react-redux\"\r\nimport itinerariesActions from \"../redux/actions/itinerariesActions\"\r\nimport citiesActions from \"../redux/actions/citiesActions\"\r\nconst Itineraries = (props) =>{\r\n    const {cities, itineraries, fetchingItineraries, city, fetchingCity} = props\r\n    let data = cities.length > 0 ? cities.find(city => city._id === props.match.params.id) : null\r\n    const errorHandler = (res) =>{\r\n        if(!res.success){\r\n            console.error(res.error)\r\n            props.history.push('/error')\r\n        }\r\n    }\r\n    useEffect(() => {\r\n        if(!data){\r\n            props.getACity(props.match.params.id).then(res => errorHandler(res))\r\n        }\r\n        props.getAllItineraries(props.match.params.id).then(res => errorHandler(res)) \r\n        window.scrollTo(0, 0)\r\n        return () => {\r\n            props.resetItineraries()\r\n            props.resetCity()\r\n            document.title = \"myTinerary\"\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    },[])\r\n    const fetchAgain = (type = null) =>{\r\n        props.getAllItineraries(props.match.params.id).then(res => {\r\n            type === \"post\" && props.sentTheComment()\r\n            errorHandler(res)\r\n        })\r\n    }\r\n    const dataHandler = (string) =>{\r\n        return data ? data[string] : city[string]\r\n    }\r\n    if(fetchingItineraries && fetchingCity){\r\n        return (\r\n            <>  \r\n                <Header/>\r\n                <main className=\"mainCities\">\r\n                    <div className=\"noCitiesContainer\"><p>Loading...</p></div>\r\n                </main>\r\n                <Footer/>\r\n            </>\r\n        )\r\n    }else{\r\n        document.title = `myTinerary - ${dataHandler(\"city\")}`\r\n    }\r\n    return(\r\n        <>\r\n            <Header/>\r\n            <main className=\"mainItinerary\">\r\n                <div className=\"photoItinerary\" style={{backgroundImage:`url('/assets/${dataHandler(\"image\")}')`}}>\r\n                    <h3>In: {dataHandler(\"country\")} you can...</h3>\r\n                    <h2>Unfold the beauty of: {dataHandler(\"city\")}</h2>\r\n                </div>\r\n                <div className=\"shortCityDescription\">\r\n                    <p><span className=\"specialText\">Sneak peek:</span> {dataHandler(\"description\")}</p>\r\n                </div>\r\n                <div className=\"itinerariesContainer\">{itineraries && itineraries.length === 0 ? <p className=\"noItineraries\">OOPS, NO ITINERARIES YET IN THIS CITY!</p> : itineraries.map((itinerary, index) => <Itinerary key={index} itinerary={itinerary} myFunction={fetchAgain}/>)}</div>\r\n                <Link to=\"/cities\"><button>Back to cities</button></Link>\r\n            </main>\r\n            <Footer/>\r\n        </>\r\n    )\r\n}\r\nconst mapStateToProps = (state) =>{\r\n    return{\r\n        cities : state.citiesRed.cities,\r\n        city : state.citiesRed.city,\r\n        itineraries : state.itinerariesRed.itineraries,\r\n        fetchingItineraries: state.itinerariesRed.fetching,\r\n        fetchingCity: state.citiesRed.fetchingCity\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    getAllItineraries : itinerariesActions.getAllItinerariesFromCity,\r\n    resetItineraries : itinerariesActions.resetItineraries,\r\n    getACity : citiesActions.getACity,\r\n    resetCity : citiesActions.resetCity,\r\n    sentTheComment : itinerariesActions.sentTheComment\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Itineraries)","import { useEffect, useRef, useState } from \"react\"\r\nimport Footer from \"../components/Footer\"\r\nimport Header from \"../components/Header\"\r\n\r\nconst Error = (props) =>{\r\n    const [render, setRender] = useState(false)\r\n    var timeLeft = useRef(3)\r\n    useEffect(()=>{\r\n        setTimeout(()=>{\r\n            timeLeft.current--\r\n            timeLeft.current === 0 ? props.history.push('/') : setRender(!render)  \r\n        },1000)\r\n        // return () => clearTimeout(timeOut)\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    },[render])\r\n    return(\r\n        <>\r\n            <Header/>\r\n            <main className=\"mainCities\"><div className=\"noCitiesContainer\"><p>Something went wrong! you'll be redirected in {timeLeft.current}s</p></div></main>\r\n            <Footer/>\r\n        </>\r\n    )\r\n}\r\nexport default Error","import { useState, useEffect } from \"react\"\r\nimport { connect } from \"react-redux\"\r\nimport { Link } from \"react-router-dom\"\r\nimport userActions from \"../redux/actions/userActions\"\r\nimport { GoogleLogin } from 'react-google-login';\r\n// 367408341558-omu79fduq0sjoipof12r4h673m14dv7l.apps.googleusercontent.com\r\nconst Mainsignup = (props) =>{   // hacerlo con on changes al salir de los inputs? copada la idea\r\n    const [renderError, setRenderError] = useState({error: ''})\r\n    const countries = [\"Argentina\", \"Chile\", \"Brazil\", \"Uruguay\", \"Perú\", \"Bolivia\", \"Paraguay\", \"Rest of the World\"]\r\n    const [loading, setLoading] = useState(false)\r\n    const [newUser, setNewUser] = useState({\r\n        firstName: '',\r\n        lastName: '',\r\n        eMail: '',\r\n        password: '',\r\n        photoURL: '',\r\n        country: countries[0],\r\n        google: false\r\n    })\r\n    useEffect(()=>{\r\n        if(renderError.error.includes('Network')){\r\n            console.error(renderError.error)\r\n            props.history.push('/error')\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    },[renderError.error])\r\n    const inputHandler = (e) =>{\r\n        setNewUser({\r\n            ...newUser,\r\n            [e.target.name] : e.target.value\r\n        })\r\n    }\r\n    const missingFields = () =>{\r\n        let namesOfFields = [...Object.keys(newUser)]\r\n        let bodyFields = [...Object.values(newUser)]\r\n        return namesOfFields.filter((field, index) => bodyFields[index] === \"\").join(' ')\r\n    }\r\n    const submitNewUser = (e) =>{ // poner preloader?\r\n        e.preventDefault()\r\n        let badFields = missingFields()\r\n        if(badFields === ''){\r\n            setLoading(true)\r\n            props.registerUser(newUser).then(res => {\r\n                !res.success && setRenderError({error: res.error})\r\n                setLoading(false)\r\n            })\r\n        }else{\r\n            setRenderError({error: badFields})\r\n        } \r\n    }\r\n    let myErrors = {\r\n        firstName: \"First name must have 2 chars atleast, max 35\",\r\n        lastName: \"First name must have 2 chars atleast, max 35\",\r\n        eMail: renderError.error.includes('eMail already in use') ? \"Email already in use!\" : \"Email must be a valid one, for example jwb@gmail.com\",\r\n        password: \"Password must have atleast 4 chars or numbers!\",\r\n        photoURL: \"The URL of the photo should be atleast 6 characters long\",\r\n        country: \"Country should be a valid one!\"\r\n    }\r\n    let myErrorsKeys = Object.keys(myErrors).filter(key => renderError.error.includes(key)) \r\n    const handleError = (string) =>{\r\n        return renderError.error.includes(string) ? 'fieldError' : ''\r\n    }\r\n    const responseGoogle = response =>{\r\n        // console.log(response)\r\n        let googleUser = {\r\n            firstName: response.profileObj.givenName || null,\r\n            lastName: response.profileObj.familyName || null,\r\n            eMail: response.profileObj.email || null,\r\n            password: response.profileObj.googleId || null,\r\n            photoURL: response.profileObj.imageUrl || null,\r\n            country: \"Rest of the World\",\r\n            google: true\r\n        }\r\n        // console.log(googleUser.password)\r\n        props.registerUser(googleUser).then(res => !res.success && setRenderError({error: res.error}))\r\n        // console.log(googleUser)\r\n    }\r\n    if(loading){\r\n        return <main className=\"mainCities\"><div className=\"noCitiesContainer\"><p>Loading...</p></div></main>\r\n    }\r\n    return(\r\n        <main className='signUpMain'>\r\n            <form className='signUpForm'>\r\n                <label htmlFor=\"firstName\">First Name:</label>\r\n                <input type=\"text\" className={handleError('firstName')} placeholder=\"First Name\" id=\"firstName\" name=\"firstName\" required value={newUser.firstName} onChange={inputHandler}/>\r\n                <label htmlFor=\"lastName\">Last Name:</label>\r\n                <input type=\"text\" className={handleError('lastName')} placeholder=\"Last Name\" id=\"lastName\" name=\"lastName\" required value={newUser.lastName} onChange={inputHandler}/>\r\n                <label htmlFor=\"eMail\">Email:</label>\r\n                <input type=\"email\" className={handleError('eMail')} placeholder=\"placeholder@mail.com\" id=\"eMail\" name=\"eMail\" required value={newUser.eMail} onChange={inputHandler}/>\r\n                <label htmlFor=\"password\">Password:</label>\r\n                <input type=\"password\" className={handleError('password')} placeholder=\"Password\" id=\"password\" name=\"password\" required value={newUser.password} onChange={inputHandler}/>\r\n                <label htmlFor=\"photoURL\">Photo URL:</label>\r\n                <input type=\"url\" className={handleError('photoURL')} placeholder=\"URL of your photo\" id=\"photoURL\" name=\"photoURL\" required value={newUser.photoURL} onChange={inputHandler}/>\r\n                <label htmlFor=\"country\">Country:</label>\r\n                <select name=\"country\" id=\"country\" value={newUser.country} onChange={inputHandler}>\r\n                {countries.map(country => {\r\n                    return <option key={country} value={country}>{country}</option>\r\n                })}\r\n                </select>\r\n                <button type=\"button\" onClick={submitNewUser}>SIGN UP</button>\r\n                <GoogleLogin\r\n                    clientId=\"367408341558-2t0f5ucqmmg4fhp1per1drrfmv5i611r.apps.googleusercontent.com\"\r\n                    render={renderProps => (\r\n                    <button className='googleButton' onClick={renderProps.onClick} disabled={renderProps.disabled}>Sign Up With Google</button>\r\n                    )}\r\n                    onSuccess={responseGoogle}\r\n                    cookiePolicy={'single_host_origin'}\r\n                />\r\n            </form>\r\n            <div className=\"errorContainer\" style={renderError.error === \"\" ? {display:\"none\"} : {display:\"block\"}}>\r\n                <h4>ERRORS!: Please read carefully</h4>\r\n                {myErrorsKeys.map((errorKey, index) => <p key={index}>{myErrors[errorKey]}</p>)}\r\n            </div>\r\n            <Link to=\"/signin\">Already registered? SIGN IN!</Link>\r\n        </main>\r\n    )\r\n}\r\nconst mapDispatchToProps = {\r\n    registerUser : userActions.registerUser \r\n}\r\nexport default connect(null, mapDispatchToProps) (Mainsignup)","import Header from '../components/Header'\r\nimport Footer from '../components/Footer'\r\nimport Mainsignup from '../components/Mainsignup'\r\nimport {useEffect} from 'react'\r\nconst Signup = (props) =>{\r\n    useEffect(() => {\r\n        window.scrollTo(0, 0)\r\n        document.title = \"myTinerary - Sign Up\"\r\n        return () => {\r\n            document.title = \"myTinerary\"\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    },[])\r\n    return (\r\n        <>\r\n            <Header/>\r\n            <Mainsignup {...props}/>\r\n            <Footer/>\r\n        </>\r\n    )\r\n}\r\nexport default Signup","import { Link } from \"react-router-dom\"\r\nimport { useState, useEffect } from \"react\"\r\nimport { connect } from \"react-redux\"\r\nimport userActions from \"../redux/actions/userActions\"\r\nimport { GoogleLogin } from 'react-google-login';\r\nconst Mainsignin = (props) =>{\r\n    const [renderError, setRenderError] = useState({error: '', errorEffect: true})\r\n    const [loading, setLoading] = useState(false)\r\n    const [dataUser, setDataUser] = useState({\r\n        eMail: '',\r\n        password: '',\r\n        google: false\r\n    })\r\n    const missingFields = () =>{\r\n        const {eMail, password} = dataUser\r\n        let namesOfFields = [\"eMail\", \"password\"]\r\n        let bodyFields = [eMail, password]\r\n        return namesOfFields.filter((field, index) => bodyFields[index] === \"\").join(' ')\r\n    }\r\n    const inputHandler = (e) =>{\r\n        setDataUser({\r\n            ...dataUser,\r\n            [e.target.name] : e.target.value\r\n        })\r\n    }\r\n    const submitHandler = (e) =>{ // agregar preloader?\r\n        e.preventDefault()\r\n        let badFields = missingFields()\r\n        if(badFields === ''){\r\n            setLoading(true)\r\n            props.loginUser(dataUser).then(res => {\r\n                !res.success && setRenderError({error: res.error, errorEffect:!renderError.errorEffect})\r\n                setLoading(false)\r\n            })\r\n        }else{\r\n            setRenderError({error: badFields, errorEffect:!renderError.errorEffect})\r\n        }   \r\n    }\r\n    useEffect(()=>{\r\n        if(renderError.error.includes('Network')){\r\n            console.error(renderError.error)\r\n            props.history.push('/error')\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    },[renderError.error])\r\n    const responseGoogle = response =>{\r\n        // console.log(response)\r\n        let googleUser = {\r\n            eMail: response.profileObj.email || null,\r\n            password: response.profileObj.googleId || null,\r\n            google: true\r\n        }\r\n        props.loginUser(googleUser).then(res => !res.success && setRenderError({error: res.error}))\r\n        // console.log(googleUser)\r\n    }\r\n    if(loading){\r\n        return <main className=\"mainCities\"><div className=\"noCitiesContainer\"><p>Loading...</p></div></main>\r\n    }\r\n    return(\r\n        <main className=\"signUpMain\">\r\n            <form className=\"signUpForm\">\r\n                <label htmlFor=\"eMail\">Email:</label>\r\n                <input type=\"email\" placeholder=\"placeholder@mail.com\" id=\"eMail\" name=\"eMail\" value={dataUser.eMail} onChange={inputHandler} required/>\r\n                <label htmlFor=\"password\">Password:</label>\r\n                <input type=\"password\" placeholder=\"Password\" id=\"password\" name=\"password\" value={dataUser.password} onChange={inputHandler} required/>\r\n                <button id=\"signInBtn\" type=\"button\" onClick={submitHandler}>SIGN IN</button>\r\n                <GoogleLogin\r\n                    clientId=\"367408341558-2t0f5ucqmmg4fhp1per1drrfmv5i611r.apps.googleusercontent.com\"\r\n                    render={renderProps => (\r\n                    <button className='googleButton' onClick={renderProps.onClick} disabled={renderProps.disabled}>Sign In with Google</button>\r\n                    )}\r\n                    onSuccess={responseGoogle}\r\n                    cookiePolicy={'single_host_origin'}\r\n                />\r\n                {renderError.error !== \"\" && <p className={renderError.errorEffect ? 'errorEffectFirst' : 'errorEffectSecond'}>{renderError.error.includes('Google') ? renderError.error : 'Invalid email or password!'}</p>}\r\n            </form>\r\n            <Link to=\"/signup\">Don't have an account yet? SIGN UP NOW!</Link>\r\n        </main>\r\n    )\r\n}\r\nconst mapStateToProps = (state) =>{\r\n    return{\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    loginUser : userActions.loginUser\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps) (Mainsignin)","import Header from '../components/Header'\r\nimport Footer from '../components/Footer'\r\nimport Mainsignin from '../components/Mainsignin'\r\nimport {useEffect} from 'react'\r\nconst Signin = (props) =>{\r\n    useEffect(() => {\r\n        window.scrollTo(0, 0)\r\n        document.title = \"myTinerary - Sign In\"\r\n        return () => {\r\n            document.title = \"myTinerary\"\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    },[])\r\n    return (\r\n        <>\r\n            <Header/>\r\n            <Mainsignin {...props}/>\r\n            <Footer/>\r\n        </>\r\n    )\r\n}\r\nexport default Signin","import { useEffect, useState } from \"react\"\r\nimport { connect } from \"react-redux\"\r\nimport Footer from \"../components/Footer\"\r\nimport Header from \"../components/Header\"\r\nimport userActions from \"../redux/actions/userActions\"\r\nimport { Link } from \"react-router-dom\"\r\nconst Favourites = (props) =>{\r\n    const [render, setRender] = useState(false)\r\n    const {likedItineraries} = props\r\n    useEffect(()=>{\r\n        document.title = \"myTinerary - Favourites\"\r\n        props.populateItineraries(props.token)\r\n        .then(res =>{\r\n            // console.log(res)\r\n            setRender(!render)\r\n        })\r\n        // console.log(likedItineraries)\r\n        return () => document.title = \"myTinerary\"\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    },[])\r\n    if(!render){\r\n        return(\r\n            <>\r\n                <Header/>\r\n                <main className=\"mainCities\"><div className=\"noCitiesContainer\"><p>Loading...</p></div></main>\r\n                <Footer/>\r\n            </>\r\n        )\r\n    }\r\n    return(\r\n        <>\r\n            <Header/>\r\n            <main className=\"favItiMain\">\r\n                {likedItineraries.map(itinerary => {\r\n                    return(\r\n                        <Link key={itinerary._id} to={`/itineraries/${itinerary.city._id}`}>\r\n                            <div className=\"favItiContainer\">\r\n                                <div className=\"favItiHeader\" style={{backgroundImage:`url('assets/${itinerary.city.image}')`}}>\r\n                                    <p>Country: {itinerary.city.country}</p>\r\n                                    <p>City: {itinerary.city.city}</p>\r\n                                    <p>Description: {itinerary.city.description}</p>\r\n                                </div>\r\n                                <div className=\"favItiContent\">\r\n                                    <p>Title: {itinerary.title}</p>\r\n                                    <p>Author: {itinerary.author.name}</p>\r\n                                    <p>Description: {itinerary.description}</p>\r\n                                </div>\r\n                            </div>\r\n                        </Link>\r\n                    ) \r\n                })}\r\n            </main>\r\n            <Footer/>\r\n        </>\r\n    )\r\n}\r\nconst mapStateToProps = (state) =>{\r\n    return {\r\n      likedItineraries: state.usersRed.likedItineraries,\r\n      token: state.usersRed.token\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    populateItineraries: userActions.populateItineraries\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Favourites)","import \"slick-carousel/slick/slick.css\"; \nimport \"slick-carousel/slick/slick-theme.css\";\nimport './App.css'\nimport Home from './pages/Home'\nimport Cities from './pages/Cities'\nimport {BrowserRouter, Route, Switch, Redirect} from 'react-router-dom'\nimport Itineraries from \"./pages/Itineraries\";\nimport Error from \"./pages/Error\";\nimport Signup from \"./pages/Signup\";\nimport Signin from \"./pages/Signin\";\nimport {connect} from 'react-redux'\nimport { useEffect } from \"react\";\nimport userActions from \"./redux/actions/userActions\";\nimport Favourites from \"./pages/Favourites\";\n\nfunction App(props) {\n  const {token} = props\n  useEffect(()=>{\n    if(localStorage.getItem('token')){\n      const savedUser = {\n          photoURL: localStorage.getItem('photoURL'),\n          token: localStorage.getItem('token'),\n          firstName: localStorage.getItem('firstName'),\n          likedItineraries: JSON.parse(localStorage.getItem('likedItineraries'))\n      }\n      props.logLs(savedUser)\n    }\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  },[])\n  // if (!token){\n  //   var notRegisteredRoutes = [<Route path=\"/signup\" component={Signup}/>, <Route path=\"/signin\" component={Signin}/>]\n  // }\n  return (\n    <BrowserRouter>\n      <Switch>\n        <Route exact path=\"/\" component={Home} />\n        {/* <Route path=\"/\" render={(props) => {...props} <Home invitados={invitados}/>}/> */}\n        {!token && <Route path=\"/signup\" component={Signup}/>}\n        {!token && <Route path=\"/signin\" component={Signin}/>}\n        {/* {!token && notRegisteredRoutes.map(route => route)} */}\n        <Route path=\"/cities\" component={Cities}/>\n        <Route path=\"/itineraries/:id\" component={Itineraries}/>\n        {token && <Route path=\"/favourites\" component={Favourites}/>}\n        <Route path=\"/error/\" component={Error}/>\n        <Redirect to=\"/\"/>\n      </Switch>\n    </BrowserRouter>\n  )\n}\nconst mapStateToProps = (state) =>{\n  return {\n    userPhoto: state.usersRed.photoURL,\n    token: state.usersRed.token,\n    firstName: state.usersRed.firstName\n  }\n}\nconst mapDispatchToProps = {\n  logLs: userActions.logInLS\n}\n// los /itineraries/:id lo que venga luego de :, lo guarda dentro de match param prop ID si pongo culo va culo\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n// componente sign in, sign up. con sus formularios. enviar a backend, pedido login sign up, backend debe devolver si cuenta fue creada con exito o no. o si contraseña estaba bien o no.","const initState = {\r\n    cities: [],\r\n    filteredCities:[],\r\n    city:{},\r\n    fetching: true,\r\n    fetchingCity: true,\r\n}\r\nconst citiesReducer = (state = initState, action) =>{\r\n    switch(action.type){\r\n        case \"GET_ALL_CITIES\":\r\n            return {\r\n                ...state,\r\n                cities:action.payload,\r\n                filteredCities:action.payload,\r\n                fetching: false,    \r\n            }\r\n        case \"GET_FILTERED_CITIES\":\r\n            return {\r\n                ...state,\r\n                filteredCities:state.cities.filter(object => object.city.toLowerCase().startsWith(action.payload.toLowerCase().trim())),\r\n            }\r\n        case \"GET_A_CITY\":\r\n            return{\r\n                ...state,\r\n                city:action.payload,\r\n                fetchingCity: false,\r\n            }\r\n        case \"RESET\":\r\n            return{\r\n                ...state,\r\n                fetchingCity: true,\r\n                city:{}\r\n            }\r\n        case \"RESET_FILTER\":\r\n            return{\r\n                ...state,\r\n                filteredCities:state.cities\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\nexport default citiesReducer\r\n\r\n// el reducer estará a la escucha de las action de mis componentes\r\n// y del estado del state centralizado\r\n// de acuerdo a la action que reciba, debe modificar el store\r\n","const initState = {\r\n    itineraries:[],\r\n    fetching: true,\r\n    itineraryComment: false\r\n}\r\nconst itinerariesReducer = (state = initState, action) =>{\r\n    switch(action.type){\r\n        case \"GET_AN_ITINERARY\":\r\n            return{\r\n                ...state,\r\n                itineraries:action.payload,\r\n                fetching: false\r\n            }\r\n        case \"SENT_COMMENT\":\r\n            return{\r\n                ...state,\r\n                itineraryComment:!state.itineraryComment\r\n            }\r\n        case \"RESET\":\r\n            return initState\r\n        default:\r\n            return state\r\n    }\r\n}\r\nexport default itinerariesReducer","const initState = {\r\n    photoURL:\"\",\r\n    token: \"\",\r\n    firstName: \"\",\r\n    likedItineraries:[],\r\n    itinerariesArePopulated: false\r\n}\r\nconst userReducer = (state = initState, action) =>{\r\n    switch(action.type){\r\n        case 'USER_LOGGED':\r\n            // console.log(action.payload)\r\n            localStorage.setItem('token', action.payload.token)\r\n            localStorage.setItem('firstName', action.payload.firstName)\r\n            localStorage.setItem('photoURL', action.payload.photoURL)\r\n            localStorage.setItem('likedItineraries', JSON.stringify(action.payload.likedItineraries))\r\n            // localStorage.setItem('_id', action.payload._id)\r\n            return{\r\n               ...action.payload,\r\n            }\r\n        case 'LOGOUT':\r\n            localStorage.clear()\r\n            return initState\r\n        case 'LIKED_ITINERARY':\r\n            // console.log(action.payload)\r\n            localStorage.setItem('likedItineraries', JSON.stringify(action.payload))\r\n            return{\r\n                ...state,\r\n                likedItineraries:action.payload\r\n            } \r\n        case 'FAVOURITE_ITINERARIES':\r\n            return{\r\n                ...state,\r\n                likedItineraries:action.payload,\r\n                itinerariesArePopulated: true\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\nexport default userReducer","import { combineReducers } from \"redux\";\r\nimport citiesReducer from \"./citiesReducer\";\r\nimport itinerariesReducer from './itinerariesReducer'\r\nimport userReducer from \"./userReducer\";\r\n\r\n// reducer habilitado a modificar el store\r\nconst rootReducer = combineReducers({\r\n   citiesRed : citiesReducer,\r\n   itinerariesRed : itinerariesReducer,\r\n   usersRed : userReducer\r\n}) // le paso como parametro un obj que contiene mis reducers.\r\nexport default rootReducer","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport {applyMiddleware, createStore} from 'redux' // para poder crear un store\nimport {Provider} from 'react-redux' // proveer mi app de éste store\nimport rootReducer from './redux/reducers/rootReducer';\nimport thunk from 'redux-thunk'\nconst myStore = createStore(rootReducer, applyMiddleware(thunk)) // creo mi store y le digo qué reducer es el habilitado a modificarlo\nReactDOM.render(\n    <Provider store={myStore}>\n      <App />\n    </Provider>,\n  document.getElementById('root')\n);\n// Agarra APP y lo mete adentro del id ROOT\n// Los componentes son como etiquetas HTML que yo creo\n\n"],"sourceRoot":""}